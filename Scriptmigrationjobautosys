#!/bin/bash

INPUT_FILE="input.txt"
OUTPUT_FILE="output.txt"

# Vider le fichier de sortie au début
> "$OUTPUT_FILE"

while IFS= read -r element; do
    # Ignorer les lignes vides
    [ -z "$element" ] && continue

    echo "### Résultat pour : $element" >> "$OUTPUT_FILE"
    lsjob "$element" -q | grep "box_name" >> "$OUTPUT_FILE"
    echo "" >> "$OUTPUT_FILE"

done < "$INPUT_FILE"



#!/bin/bash

INPUT_FILE="output.txt"
OUTPUT_FILE="output_lsjob_box.txt"

# Vider le fichier de sortie
> "$OUTPUT_FILE"

# Extraire uniquement les valeurs de box_name
grep "box_name" "$INPUT_FILE" | cut -d'=' -f2 | while IFS= read -r box; do
    [ -z "$box" ] && continue

    echo "### Résultat pour box_name : $box" >> "$OUTPUT_FILE"
    lsjob "$box" >> "$OUTPUT_FILE"
    echo "" >> "$OUTPUT_FILE"

done




#!/bin/bash

INPUT_FILE="output.txt"
OUTPUT_FILE="output_lsjob_box.txt"

# Vider le fichier de sortie
> "$OUTPUT_FILE"

awk -F'box_name:[[:space:]]*' '
    NF > 1 {
        box = $2
        sub(/ *$/, "", box)   # supprimer les espaces en fin de ligne
        print box
    }
' "$INPUT_FILE" | while IFS= read -r box; do

    [ -z "$box" ] && continue

    echo "### Résultat pour box_name : $box" >> "$OUTPUT_FILE"
    lsjob "$box" >> "$OUTPUT_FILE"
    echo "" >> "$OUTPUT_FILE"

done


#!/bin/bash

INPUT_FILE="jobs.csv"
OUTPUT_FILE="resultat_boxname.txt"

> "$OUTPUT_FILE"

while IFS=',' read -r job reste
do
    # Ignorer les lignes vides
    [ -z "$job" ] && continue

    # Exécuter autorep et extraire uniquement box_name
    autorep -j "$job" -q \
        | grep -i "box_name" \
        | awk -F':' '{print "box_name: "$2}' \
        >> "$OUTPUT_FILE"

done < "$INPUT_FILE"




#!/bin/bash

INPUT_FILE="boxname_final.txt"
OUTPUT_DIR="jil_files"

mkdir -p "$OUTPUT_DIR"

while read -r line
do
    # Ignorer lignes vides
    [ -z "$line" ] && continue

    # Extraire le nom de la box (après :)
    box_name=$(echo "$line" | awk -F':' '{gsub(/^[ \t]+/, "", $2); print $2}')

    # Sécurité si box_name vide
    [ -z "$box_name" ] && continue

    # Générer le fichier .jil
    autorep -j "$box_name" -q > "$OUTPUT_DIR/${box_name}.jil"

done < "$INPUT_FILE"

#!/bin/bash

input_file="liste_elements.txt"

while IFS= read -r element; do
    # On saute les lignes vides
    [ -z "$element" ] && continue

    output_file="${element}.jil"

    autorep -j "$element" -q \
        | grep -m 1 "box_name" \
        > "$output_file"

done < "$input_file"


sed -i 's/^[[:space:]]*//; s/[[:space:]]*$//' fichier.txt



